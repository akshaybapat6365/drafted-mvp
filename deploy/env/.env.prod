APP_ENV=production

# Public routing
DRAFTED_DOMAIN=localhost
API_BASE_URL=http://localhost
WEB_BASE_URL=http://localhost
CORS_ORIGINS=http://localhost,http://127.0.0.1:3000

# Security
JWT_SECRET=CHANGE_ME_WITH_32_PLUS_CHAR_SECRET
JWT_ISSUER=drafted-mvp
JWT_TTL_SECONDS=604800

# Runtime
VAR_DIR=/app/var
RUN_INPROCESS_WORKER=false
WORKER_POLL_INTERVAL_SECONDS=1.0
WORKER_HEARTBEAT_TTL_SECONDS=120

# Database and queue
POSTGRES_DB=drafted
POSTGRES_USER=drafted
POSTGRES_PASSWORD=CHANGE_ME_DB_PASSWORD
DATABASE_URL=postgresql+psycopg://drafted:CHANGE_ME_DB_PASSWORD@postgres:5432/drafted
REDIS_URL=redis://redis:6379/0

# Gemini
GEMINI_API_KEY=
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
GEMINI_TEXT_MODEL=gemini-2.5-flash
GEMINI_IMAGE_MODEL_PREVIEW=gemini-3-pro-image-preview
GEMINI_IMAGE_MODEL_FINAL=gemini-3-pro-image-preview

# Guardrails
JOB_MAX_RETRIES=2
IDEMPOTENCY_WINDOW_SECONDS=86400
TRANSIENT_STUB_ENABLED=true
TRANSIENT_STUB_FAIL_FIRST_N=300
TRANSIENT_STUB_FAIL_EVERY_N=0
TRANSIENT_STUB_HTTP_CODE=503
TRANSIENT_STUB_SCOPE=spec
